
#docker
alias d=docker
alias dkill='d rm -vf $(docker ps -aq)'
alias dps='d ps'
alias di='d images'
alias drmi='d rm -f ${docker ps -a -q}'

#k8s
alias k='kubectl'
alias kg='k get -w'
alias kge='kg events'
alias kgp='kg pod'
alias kgpa='kg --all-namespaces'
alias kgs='kg svc'
alias kgi='kg ingress'

function klogs {
	FILE=/tmp/k8p
	kgpo | grep $1 | awk '{print $1 " " $2 }' | head -1 > $FILE
	NS=`cat $FILE | awk '{print $1}'`
	POD=`cat $FILE | awk '{print $2}'`
	rm -rf $FILE
	kubectl logs $POD --namespace=$NS
}

#helm
alias h='helm'
alias hl='h list'
alias hd='h delete --purge'
alias hda='hd $(hl -q)'
alias hi='h upgrade --install'

#git
alias g='git'
alias ga='g add ./'
alias gc='g commit -am"update"'
alias gp='g push'
alias gst='g status'
alias grh='g reset --hard'
alias gup='g pull --rebase'

#java
alias killj="ps -ef | grep java | awk '{print $2}' | xargs kill -9"
alias gct='./gradlew clean test'

#misc
alias ls='ls -G'
alias refresh='source ~/.zshrc'
alias viz='vi ~/.zshrc'

#OSX
if [[ $OSTYPE == darwin* ]]; then
  alias rescue='killall Dock'

  alias wifi="security find-generic-password -ga `/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -I | awk '/ SSID/ {print substr($0, index($0, $2))}'` | grep 'password:'"
  
  # termtile
  alias tul='osascript ~/.termtile/tile.scpt up left'
  alias tur='osascript ~/.termtile/tile.scpt up right'
  alias tdl='osascript ~/.termtile/tile.scpt down left'
  alias tdr='osascript ~/.termtile/tile.scpt down right'
  alias tll='osascript ~/.termtile/tile.scpt left'
  alias trr='osascript ~/.termtile/tile.scpt right'
  alias tup='osascript ~/.termtile/tile.scpt up'
  alias tdown='osascript ~/.termtile/tile.scpt down'
  alias tbig='osascript ~/.termtile/resize.scpt '
  alias tcen='osascript ~/.termtile/center.scpt '
  alias tmax='osascript ~/.termtile/maximize.scpt '
  alias tsn='osascript ~/.termtile/changeScreen.scpt next'
  alias tfs='osascript ~/.termtile/fullscreen.scpt '
fi

#git config branch.autosetuprebase always # Force all new branches to automatically use rebase
